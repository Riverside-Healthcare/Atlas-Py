"use strict";!function(){var e;document.addEventListener("click",function(t){if(t.target.matches("button.report-tags-etl-reset"))(e=new XMLHttpRequest).open("get","/Settings/?handler=DefaultEtl",!0),e.setRequestHeader("Content-Type","text/html;charset=UTF-8`"),e.setRequestHeader("X-Requested-With","XMLHttpRequest"),e.setRequestHeader("X-CSRFToken",csrftoken),e.send(),e.addEventListener("readystatechange",function(){4===this.readyState&&200===this.status&&(document.querySelector(".report-tags-etl textarea").value=e.responseText)});else if(t.target.matches('.settings-search-visiblity[type="checkbox"]')&&"INPUT"===t.target.tagName){var s=t.target.parentElement,a=t.target,n=1;a.hasAttribute("checked")?(a.removeAttribute("checked"),n=2):a.setAttribute("checked","checked");var r={TypeId:s.getAttribute("typeId"),GroupId:s.hasAttribute("groupId")?s.getAttribute("groupId"):"",Type:n},d=Object.keys(r).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(r[e])}).join("&");(e=new XMLHttpRequest).open("post","/Settings/Search/?handler=SearchUpdateVisibility&"+d,!0),e.setRequestHeader("Content-Type","text/html;charset=UTF-8`"),e.setRequestHeader("X-Requested-With","XMLHttpRequest"),e.setRequestHeader("X-CSRFToken",csrftoken),e.send(),e.addEventListener("readystatechange",function(){4===this.readyState&&200===this.status&&showMessageBox("Changes saved.")})}else if(t.target.matches("a.settings-search-name")){var o=t.target.closest(".field").querySelector("input[groupId]");if(void 0===o)return!1;(e=new XMLHttpRequest).open("post","/Settings/Search/?handler=SearchUpdateText&id="+o.getAttribute("groupId")+"&text="+o.value,!0),e.setRequestHeader("Content-Type","text/html;charset=UTF-8`"),e.setRequestHeader("X-Requested-With","XMLHttpRequest"),e.setRequestHeader("X-CSRFToken",csrftoken),e.send(),e.addEventListener("readystatechange",function(){4===this.readyState&&200===this.status&&showMessageBox("Changes saved.")})}})}(),document.addEventListener("click",function(e){if(e.target.matches('.role-permissions[type="checkbox"]')&&"INPUT"===e.target.tagName){var t=e.target,s=1;t.hasAttribute("checked")?(t.removeAttribute("checked"),s=2):t.setAttribute("checked","checked");var a={RoleId:t.getAttribute("roleid"),PermissionId:t.getAttribute("permissionid"),Type:s},n=Object.keys(a).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(a[e])}).join("&"),r=new XMLHttpRequest;r.open("post","/Settings/Roles/?handler=UpdatePermissions&"+n,!0),r.setRequestHeader("Content-Type","text/html;charset=UTF-8`"),r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.setRequestHeader("X-CSRFToken",csrftoken),r.send(),r.addEventListener("readystatechange",function(){4===this.readyState&&200===this.status&&console.log("Changes saved.")})}});