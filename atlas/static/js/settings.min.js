"use strict";!function(){var e;document.addEventListener("click",function(t){if(t.target.matches("button.report-tags-etl-reset"))(e=new XMLHttpRequest).open("get","/Settings/?handler=DefaultEtl",!0),e.setRequestHeader("Content-Type","text/html;charset=UTF-8`"),e.setRequestHeader("X-Requested-With","XMLHttpRequest"),e.setRequestHeader("X-CSRFToken",csrftoken),e.send(),e.addEventListener("readystatechange",function(){4===this.readyState&&200===this.status&&(document.querySelector(".report-tags-etl textarea").value=e.responseText)});else if(t.target.matches('.settings-search-visiblity[type="checkbox"]')&&"INPUT"===t.target.tagName){var s=t.target.parentElement,r=t.target,a=1;r.hasAttribute("checked")?(r.removeAttribute("checked"),a=2):r.setAttribute("checked","checked");var n={TypeId:s.getAttribute("typeId"),GroupId:s.hasAttribute("groupId")?s.getAttribute("groupId"):"",Type:a},i=Object.keys(n).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(n[e])}).join("&");(e=new XMLHttpRequest).open("post","/Settings/Search/?handler=SearchUpdateVisibility&"+i,!0),e.setRequestHeader("Content-Type","text/html;charset=UTF-8`"),e.setRequestHeader("X-Requested-With","XMLHttpRequest"),e.setRequestHeader("X-CSRFToken",csrftoken),e.send(),e.addEventListener("readystatechange",function(){4===this.readyState&&200===this.status&&showMessageBox("Changes saved.")})}else if(t.target.matches("a.settings-search-name")){var u=t.target.closest(".field").querySelector("input[groupId]");if(void 0===u)return!1;(e=new XMLHttpRequest).open("post","/Settings/Search/?handler=SearchUpdateText&id="+u.getAttribute("groupId")+"&text="+u.value,!0),e.setRequestHeader("Content-Type","text/html;charset=UTF-8`"),e.setRequestHeader("X-Requested-With","XMLHttpRequest"),e.setRequestHeader("X-CSRFToken",csrftoken),e.send(),e.addEventListener("readystatechange",function(){4===this.readyState&&200===this.status&&showMessageBox("Changes saved.")})}})}(),document.addEventListener("click",function(e){if(e.target.matches('.role-permissions[type="checkbox"]')&&"INPUT"===e.target.tagName){var t=e.target,s=1;t.hasAttribute("checked")?(t.removeAttribute("checked"),s=2):t.setAttribute("checked","checked");var r={RoleId:t.getAttribute("roleid"),PermissionId:t.getAttribute("permissionid"),Type:s},a=Object.keys(r).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(r[e])}).join("&"),n=new XMLHttpRequest;n.open("post","/Settings/Roles/?handler=UpdatePermissions&"+a,!0),n.setRequestHeader("Content-Type","text/html;charset=UTF-8`"),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.setRequestHeader("X-CSRFToken",csrftoken),n.send(),n.addEventListener("readystatechange",function(){4===this.readyState&&200===this.status&&console.log("Changes saved.")})}})