"use strict";!function(){var e;document.addEventListener("click",function(t){if(t.target.matches("button.report-tags-etl-reset"))(e=new XMLHttpRequest).open("get","/settings/etl/default",!0),e.setRequestHeader("Content-Type","text/html;charset=UTF-8`"),e.setRequestHeader("X-Requested-With","XMLHttpRequest"),e.setRequestHeader("X-CSRFToken",csrftoken),e.send(),e.addEventListener("readystatechange",function(){4===this.readyState&&200===this.status&&(document.querySelector(".report-tags-etl textarea").value=e.responseText)});else if(t.target.matches('.settings-search-visiblity[type="checkbox"]')&&"INPUT"===t.target.tagName){var s=t.target.parentElement,n=t.target;n.hasAttribute("checked")?n.removeAttribute("checked"):n.setAttribute("checked","checked"),(e=new XMLHttpRequest).open("post","/settings/search/visiblity/"+s.getAttribute("typeId")+"/"+(s.hasAttribute("groupId")?s.getAttribute("groupId"):"1"),!0),e.setRequestHeader("Content-Type","text/html;charset=UTF-8`"),e.setRequestHeader("X-Requested-With","XMLHttpRequest"),e.setRequestHeader("X-CSRFToken",csrftoken),e.send(),e.addEventListener("readystatechange",function(){4===this.readyState&&200===this.status&&document.dispatchEvent(new CustomEvent("notification",{cancelable:!0,detail:{value:"Changes saved.",type:"success"}}))})}else if(t.target.matches("a.settings-search-name")){t.preventDefault();var a=t.target.closest(".field").querySelector("input[groupId]");if(void 0===a)return!1;(e=new XMLHttpRequest).open("get","/settings/search/report_type_name/"+a.getAttribute("groupId")+"?name="+a.value,!0),e.setRequestHeader("Content-Type","text/html;charset=UTF-8`"),e.setRequestHeader("X-Requested-With","XMLHttpRequest"),e.setRequestHeader("X-CSRFToken",csrftoken),e.send(),e.addEventListener("readystatechange",function(){4===this.readyState&&200===this.status&&document.dispatchEvent(new CustomEvent("notification",{cancelable:!0,detail:{value:"Changes saved.",type:"success"}}))})}})}(),document.addEventListener("click",function(e){if(e.target.matches('.role-permissions[type="checkbox"]')&&"INPUT"===e.target.tagName){var t=e.target,s=1;t.hasAttribute("checked")?(t.removeAttribute("checked"),s=2):t.setAttribute("checked","checked");var n={RoleId:t.getAttribute("roleid"),PermissionId:t.getAttribute("permissionid"),Type:s},a=Object.keys(n).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(n[e])}).join("&"),r=new XMLHttpRequest;r.open("post","/settings/roles/"+t.getAttribute("roleid")+"/permission/"+t.getAttribute("permissionid")+"?"+a,!0),r.setRequestHeader("Content-Type","text/html;charset=UTF-8`"),r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.setRequestHeader("X-CSRFToken",csrftoken),r.send(),r.addEventListener("readystatechange",function(){4===this.readyState&&200===this.status&&console.log("Changes saved.")})}});