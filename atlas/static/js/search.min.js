"use strict";!function(){var e,t,n=function(e,t,n){null===n&&(n="");var r=RegExp("\\b("+t+"=).*?(&|#|$)");return e.search(r)>=0?""===n?e.replace(r,""):e.replace(r,"$1"+n+"$2"):(e=e.replace(/[?#]$/,""),""===n)?e:e+(e.indexOf("?")>0?"&":"?")+t+"="+n},r=function(e,t){var n=decodeURIComponent(t||window.location.href),r=RegExp("[?&]"+e+"=([^&#]*)","i").exec(n);return r?r[1]:null},a=function(a,o){document.querySelector(".body-mainCtn")&&(document.querySelector(".body-mainCtn").style.opacity=.5);var c="/search"===window.location.pathname.toLowerCase(),u=o;c?(a=encodeURIComponent(a||r("Query",o)),u=o||n(n(window.location.href.replace(window.location.origin,""),"Query",a),"PageIndex","")):o?u=o:(u="/Search?Query="+a,"/users"===window.location.pathname.toLowerCase()?u+="&type=users":"/groups"===window.location.pathname.toLowerCase()&&(u+="&type=groups"));var y=u.replace("/Search?Query=","");e=new Date,null!=a&&a.length>0||void 0!==o?(document.documentElement.scrollTop=0,document.body.scrollTop=0,void 0!==t&&clearTimeout(t),v.href=o||p,history.pushState({state:"ajax",search:a},document.title,i.location.origin+"/Search?Query="+encodeURI(decodeURI(y))),null!==d&&d.abort(),(d=new XMLHttpRequest).open("get",u,!0),d.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),d.setRequestHeader("X-CSRFToken",csrftoken),d.setRequestHeader("X-Requested-With","XMLHttpRequest"),d.send(),d.addEventListener("load",function(){f(d.responseText,v,s,l,t,u,y,a)})):l.dispatchEvent(new CustomEvent("load-ajax",{detail:p}))},o=function(e){a(null,e)},l=document,i=window,c=l.querySelector("#search-form"),s=l.querySelectorAll(".body-mainCtn")[0],u=c.querySelectorAll("input")[0],d=null,v=document.createElement("a");document.addEventListener("click",function(e){e.target.closest("#nav-search")&&(document.documentElement.scrollTop=0,document.body.scrollTop=0)});var p=i.location.pathname.toLowerCase().startsWith("/search")?"/":i.location.href,f=function(t,n,r,a,o,l,c,s){document.querySelector(".side-links")&&(document.querySelector(".side-links").innerHTML=""),document.querySelector("#AdColTwo")&&(document.querySelector("#AdColTwo").innerHTML=""),r.style.visibility="visible",r.style.removeProperty("overflow"),r.innerHTML=t;var u=Array.prototype.slice.call(r.querySelectorAll('script:not([type="application/json"])')),d=!0,v=!1,p=void 0;try{for(var f,y=u[Symbol.iterator]();!(d=(f=y.next()).done);d=!0){var h=f.value,m=document.createElement("script");m.innerHTML=h.innerHTML,m.type="text/javascript",m.setAttribute("async","true"),r.append(m),h.remove()}}catch($){v=!0,p=$}finally{try{d||null==y.return||y.return()}finally{if(v)throw p}}a.title="Search: "+s+" | Atlas BI Library",history.replaceState({state:"ajax",search:s},document.title,i.location.origin+"/Search?Query="+encodeURI(decodeURI(c))),setTimeout(function(){document.dispatchEvent(new CustomEvent("analytics-post",{cancelable:!0,detail:{value:Date.now()-e.getTime(),type:"newpage"}}))},3e3),document.dispatchEvent(new CustomEvent("related-reports")),document.dispatchEvent(new CustomEvent("ajax")),document.dispatchEvent(new CustomEvent("ss-load")),document.dispatchEvent(new CustomEvent("code-highlight")),document.querySelector(".body-mainCtn")&&(document.querySelector(".body-mainCtn").style.opacity="")};c.addEventListener("click",function(e){e.stopPropagation()}),c.addEventListener("submit",function(e){e.preventDefault()});var y=null;u.addEventListener("input",function(){window.clearTimeout(y),y=window.setTimeout(function(){""!==u.value.trim()&&(a(u.value,null),window.clearTimeout(y))},250)}),u.addEventListener("keydown",function(e){13===Number(e.keyCode)&&""!==u.value.trim()&&a(u.value,null)}),l.addEventListener("click",function(e){return e.target.matches(".search-filter input")?(e.preventDefault(),o(e.target.closest(".search-filter input").value),!1):e.target.matches(".page-link")?(e.target.closest(".search-filter input")&&o(e.target.closest(".search-filter input").value),!1):void 0})}(),function(){var e,t=function(e){delete r[e];var t=document.location.hash?"#"+document.location.hash:"",n=Object.keys(r).map(function(e){return e+"="+r[e]}).join("&");n=void 0!==n&&""!==n?"?"+n:"";var a=window.location.origin+window.location.pathname+n+t;history.replaceState({},document.title,a)},n=function(e,t){var n=document.createElement("div");n.classList.add("notification","is-light",e,"has-text-centered","my-0");var r=document.createElement("button");r.classList.add("delete"),r.addEventListener("click",function(){n.remove()}),n.innerHTML="<p><b>"+DOMPurify.sanitize(t)+"</b></p>",n.insertBefore(r,n.firstChild),document.querySelector("body").insertBefore(n,document.querySelector("body").firstChild)},r=getUrlVars();r.error&&(e=decodeURI(r.error).replace(/\+/g,/ /),n("is-danger",e),t("error")),r.success&&(e=decodeURI(r.success).replace(/\+/g,/ /),n("is-success",e),t("success")),r.warning&&(e=decodeURI(r.warning).replace(/\+/g,/ /),n("is-warning",e),t("warning"))}()